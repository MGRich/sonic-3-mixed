object 0x2C;

var Drawbridge:bool;

event Create() {
    Active = true;
    Priority = false;

    W = 192;
    H = 16;

    VisW = 116;
    VisH = 16;

    SolidTop = true;
    Scene.AddSelfToRegistry(this, "Solid");

    Drawbridge = false;
    CurrentAnimation = 5;
    if (SubType & 0x80) {
        VisualLayer = 1;
        Drawbridge = true;
        CurrentAnimation = 13;
    }
}

event Update() {

}

event Render(CamX:int, CamY:int) {
    if (Drawbridge) {
        G.DrawSprite(Sprite, CurrentAnimation, 1, X - CamX - 80, Y - CamY, 0, IE_NOFLIP);
        G.DrawSprite(Sprite, CurrentAnimation, 0, X - CamX - 48, Y - CamY, 0, IE_NOFLIP);
        G.DrawSprite(Sprite, CurrentAnimation, 0, X - CamX - 16, Y - CamY, 0, IE_NOFLIP);
        G.DrawSprite(Sprite, CurrentAnimation, 0, X - CamX + 16, Y - CamY, 0, IE_NOFLIP);
        G.DrawSprite(Sprite, CurrentAnimation, 0, X - CamX + 48, Y - CamY, 0, IE_NOFLIP);
        G.DrawSprite(Sprite, CurrentAnimation, 2, X - CamX + 80, Y - CamY, 0, IE_NOFLIP);
    }
    else {
        G.DrawSprite(Sprite, CurrentAnimation, 1, X - CamX - 75, Y - CamY, 0, IE_NOFLIP);
        G.DrawSprite(Sprite, CurrentAnimation, 0, X - CamX - 45, Y - CamY, 0, IE_NOFLIP);
        G.DrawSprite(Sprite, CurrentAnimation, 0, X - CamX - 15, Y - CamY, 0, IE_NOFLIP);
        G.DrawSprite(Sprite, CurrentAnimation, 0, X - CamX + 15, Y - CamY, 0, IE_NOFLIP);
        G.DrawSprite(Sprite, CurrentAnimation, 0, X - CamX + 45, Y - CamY, 0, IE_NOFLIP);
        G.DrawSprite(Sprite, CurrentAnimation, 2, X - CamX + 75, Y - CamY, 0, IE_NOFLIP);
    }
}
